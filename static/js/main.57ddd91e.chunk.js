(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{13:function(e,t,n){e.exports={paginationBlock:"Pagination_paginationBlock__XxS9X",totalCounter:"Pagination_totalCounter__1l8n3",currentPage:"Pagination_currentPage__2F-6V",totalBlocks:"Pagination_totalBlocks___veEX",pageItem:"Pagination_pageItem__W9Yb9",selectedPage:"Pagination_selectedPage__139Ia",selectedItem:"Pagination_selectedItem__12n9q"}},16:function(e,t,n){e.exports={friendsItem:"Friends_friendsItem__1z8Rr",generalBlock:"Friends_generalBlock__1nnYb",avatar:"Friends_avatar__19sMf",info:"Friends_info__1B_iw",name:"Friends_name__1H0jP",buttonFollow:"Friends_buttonFollow__3Rq8Q",location:"Friends_location__gZKax",selectedPage:"Friends_selectedPage__2k4r0"}},19:function(e,t,n){e.exports={contentInfo:"ProfileInfo_contentInfo__2zTE7",mainAvatar:"ProfileInfo_mainAvatar__2z29I",cover:"ProfileInfo_cover__2z3gO",describeProfile:"ProfileInfo_describeProfile__1_7Ui"}},20:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3FZa8",dialogsItem:"Dialogs_dialogsItem__1PTrf",messages:"Dialogs_messages__XRR94",button:"Dialogs_button__w9F2l"}},28:function(e,t,n){e.exports={postBlock:"MyPost_postBlock__1hg6I",posts:"MyPost_posts__9OGtt",button:"MyPost_button__6BLQc"}},32:function(e,t,n){e.exports={item:"Post_item__3Rw3F"}},33:function(e,t,n){e.exports={dialog:"DialogItem_dialog__-cKzQ",active:"DialogItem_active__gIi1x"}},44:function(e,t,n){e.exports={header:"Header_header__1vXGy"}},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},61:function(e,t,n){},7:function(e,t,n){e.exports={nav:"Navbar_nav__1zCja",item:"Navbar_item__24pIL",active:"Navbar_active__3Lxyu"}},80:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=(n(50),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))}),i=n(23),r=n.n(i),o=n(44),l=n.n(o),u=n(0);function d(){return Object(u.jsx)("header",{className:l.a.header,children:Object(u.jsx)("img",{src:"https://pbs.twimg.com/profile_banners/1341675636151132160/1608715543/1500x500"})})}var j=n(7),p=n.n(j),g=n(11);function b(){return Object(u.jsxs)("nav",{className:p.a.nav,children:[Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.PROFILE,activeClassName:p.a.active,children:"Profile"})}),Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.DIALOGS,activeClassName:p.a.active,children:"Messages"})}),Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.NEWS,activeClassName:p.a.active,children:"News"})}),Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.MUSIC,activeClassName:p.a.active,children:"Music"})}),Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.FIND_FRIENDS,activeClassName:p.a.active,children:"Friends"})}),Object(u.jsx)("div",{className:p.a.item,children:Object(u.jsx)(g.b,{to:he.SETTINGS,activeClassName:p.a.active,children:"Settings"})})]})}var f=n(46),h=n.n(f),O=n(19),m=n.n(O);function v(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:m.a.cover,children:Object(u.jsx)("img",{src:"https://catherineasquithgallery.com/uploads/posts/2021-02/1612889502_62-p-krasnii-kiberpank-fon-101.jpg"})}),Object(u.jsxs)("div",{className:m.a.contentInfo,children:[Object(u.jsx)("div",{className:m.a.mainAvatar,children:Object(u.jsx)("img",{src:"https://telegra.ph/file/88a8f1c2805439c4c0d86.jpg"})}),Object(u.jsx)("div",{className:m.a.describeProfile,children:"My profile description"})]})]})}var x=n(12),_=n(2),P="ADD-POST",N="UPDATE-NEW-POST",C={posts:[{id:1,message:"Hi, how are you?",likeCount:12},{id:2,message:"It's my first post",likeCount:24}],newPostText:""},T=n(28),I=n.n(T),w=n(32),F=n.n(w);function S(e){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:F.a.posts,children:Object(u.jsxs)("div",{className:F.a.item,children:[Object(u.jsx)("img",{src:"https://telegra.ph/file/88a8f1c2805439c4c0d86.jpg"}),e.message,Object(u.jsx)("div",{children:Object(u.jsxs)("span",{children:["like: ",e.likeCount," "]})})]})})})}var k=n(14),E=Object(k.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e({type:P,postText:t})},updateNewPost:function(t){e(function(e){return{type:N,newText:e}}(t))}}}))((function(e){var t=e.profilePage.posts.map((function(e){return Object(u.jsx)(S,{id:e.id,message:e.message,likeCount:e.likeCount},e.id)}));return Object(u.jsxs)("div",{className:I.a.postBlock,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"My posts:"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{value:e.profilePage.newPostText,onChange:function(t){e.updateNewPost(t.currentTarget.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:I.a.button,onClick:function(){e.addPost(e.profilePage.newPostText),e.updateNewPost("")},children:"Add Post"})})]})]}),Object(u.jsx)("div",{className:I.a.posts,children:t})]})}));function y(e){return Object(u.jsxs)("div",{className:h.a.content,children:[Object(u.jsx)(v,{}),Object(u.jsx)(E,{})]})}var M=n(4);function L(){return Object(u.jsx)("div",{children:"News"})}function R(){return Object(u.jsx)("div",{children:"Music"})}function D(){return Object(u.jsx)("div",{children:"Settings"})}n(61);var A="ADD-MESSAGE",U="UPDATE-NEW-MESSAGE",B={dialogs:[{id:1,name:"Terra"},{id:2,name:"Azumy"},{id:3,name:"Bria"},{id:4,name:"Keren"}],messages:[{id:1,message:"Hi! How are yoy?"},{id:2,message:"Don't give up!"},{id:3,message:"Just do it"},{id:4,message:"Could you help me?"}],newTextMessage:""},G=n(20),z=n.n(G),W=n(33),H=n.n(W);function X(e){var t="/dialogs/"+e.id;return Object(u.jsx)("div",{className:H.a.dialog,children:Object(u.jsx)(g.b,{to:t,activeClassName:H.a.active,children:e.name})})}var q=n(48),J=n.n(q);function K(e){return Object(u.jsx)("div",{className:J.a.message,children:e.message})}var Q=Object(k.b)((function(e){return{dialogPage:e.dialogPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:A,messageText:e}}(t))},onMessageChange:function(t){e(function(e){return{type:U,newMessage:e}}(t))}}}))((function(e){var t=e.dialogPage.dialogs.map((function(e){return Object(u.jsx)(X,{name:e.name,id:e.id},e.id)})),n=e.dialogPage.messages.map((function(e){return Object(u.jsx)(K,{message:e.message,id:e.id},e.id)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("textarea",{value:e.dialogPage.newTextMessage,onChange:function(t){e.onMessageChange(t.currentTarget.value)},placeholder:"Enter your message"}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:z.a.button,onClick:function(){e.addMessage(e.dialogPage.newTextMessage),e.onMessageChange("")},children:"Add Message"})}),Object(u.jsxs)("div",{className:z.a.dialogs,children:[Object(u.jsx)("div",{className:z.a.dialogsItem,children:t}),Object(u.jsx)("div",{className:z.a.messages,children:n})]})]})})),Y=n(24),Z=n(25),V=n(27),$=n(26),ee=n(16),te=n.n(ee),ne=n.p+"static/media/avatarnotfound.86317f4b.jpg",ae=n(15),se=n.n(ae),ce=function(e){Object(V.a)(n,e);var t=Object($.a)(n);function n(){return Object(Y.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){var e=this;se.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setFriends(t.data.items),e.props.setTotalCount(t.data.totalCount)}))}},{key:"currentPageHandler",value:function(e){var t=this;this.props.setCurrentPage(e),se.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(e,"&count=").concat(this.props.pageSize)).then((function(e){t.props.setFriends(e.data.items)}))}},{key:"render",value:function(){for(var e=this,t=Math.ceil(this.props.totalCount/this.props.pageSize),n=[],a=1;a<=t;a++)a<8&&n.push(a);return Object(u.jsx)("div",{children:this.props.friendsPage.friends.map((function(t){return Object(u.jsx)("div",{className:te.a.friendsItem,children:Object(u.jsxs)("span",{className:te.a.generalBlock,children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:te.a.avatar,alt:"userAvatar",src:null!=t.photos.small?t.photos.small:ne})}),Object(u.jsxs)("span",{className:te.a.info,children:[Object(u.jsx)("div",{className:te.a.name,children:t.name}),Object(u.jsx)("div",{children:t.status})]}),Object(u.jsxs)("span",{className:te.a.location,children:[Object(u.jsx)("div",{children:"f.location.country"}),Object(u.jsx)("div",{children:"f.location.city"}),Object(u.jsx)("button",{className:te.a.buttonFollow,onClick:function(){return n=t.id,void(t.followed?e.props.unfollow(n):e.props.follow(n));var n},children:t.followed?"Follow":"Unfollow"})]})]})},t.id)}))})}}]),n}(s.a.Component),ie={friends:[],pageSize:4,totalCount:0,currentPage:1},re=Object(k.b)((function(e){return{friendsPage:e.friendsPage,pageSize:e.friendsPage.pageSize,totalCount:e.friendsPage.totalCount,currentPage:e.friendsPage.currentPage}}),(function(e){return{follow:function(t){e(function(e){return{type:"FOLLOW",userId:e}}(t))},unfollow:function(t){e(function(e){return{type:"UNFOLLOW",userId:e}}(t))},setFriends:function(t){e(function(e){return{type:"SET-FRIENDS",friends:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:"SET-CURRENT-PAGE",page:e}}(t))},setTotalCount:function(t){e(function(e){return{type:"SET-TOTAL-COUNT",totalCount:e}}(t))}}}))(ce),oe=n(13),le=n.n(oe),ue="LEFT",de="RIGHT",je=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,s=[];a<=t;)s.push(a),"number"===typeof a?a+=n:a=0;return s},pe=function(e){Object(V.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(Y.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).fetchPageNumbers=function(){var t=Math.ceil(e.props.totalRecords/e.props.pageLimit),n=e.props.currentPage,a=e.props.pageNeighbours,s=2*a+3;if(t>s+2){var c=Math.max(2,n-a),i=Math.min(t-1,n+a),r=je(c,i),o=c>2,l=t-i>1,u=s-(r.length+1);switch(!0){case o&&!l:var d=je(c-u,c-1);r=[ue].concat(Object(x.a)(d),Object(x.a)(r));break;case!o&&l:var j=je(i+1,i+u);r=[].concat(Object(x.a)(r),Object(x.a)(j),[de]);break;case o&&l:default:r=[ue].concat(Object(x.a)(r),[de])}return[1].concat(Object(x.a)(r),[t])}return je(1,t)},e.handleClick=function(t){"number"===typeof t&&(e.props.setCurrentPage(t),se.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageLimit)).then((function(t){e.props.setFriends(t.data.items)})))},e.handleMoveLeft=function(){var t=e.props.currentPage-2*e.props.pageNeighbours-1;e.props.setCurrentPage(t),se.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageLimit)).then((function(t){e.props.setFriends(t.data.items)}))},e.handleMoveRight=function(){var t=e.props.currentPage+2*e.props.pageNeighbours+1;e.props.setCurrentPage(t),se.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageLimit)).then((function(t){e.props.setFriends(t.data.items)}))},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){var e=this;se.a.get("https://social-network.samuraijs.com/api/1.0/users").then((function(t){e.props.setTotalCount(t.data.totalCount)}))}},{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalRecords/this.props.pageLimit),n=this.fetchPageNumbers();return this.props.totalRecords&&1!==t?Object(u.jsxs)("nav",{className:le.a.paginationBlock,children:[Object(u.jsxs)("div",{className:le.a.totalCounter,children:[Object(u.jsx)("span",{className:le.a.selectedItem,children:this.props.totalRecords}),"  Users"]}),Object(u.jsxs)("div",{className:le.a.currentPage,children:["Page   ",Object(u.jsx)("span",{className:le.a.selectedItem,children:this.props.currentPage}),"/",t]}),Object(u.jsx)("ul",{className:le.a.totalBlocks,children:n.map((function(t,n){return t===ue?Object(u.jsx)("li",{className:le.a.pageItem,children:Object(u.jsx)("span",{"aria-hidden":"true",onClick:e.handleMoveLeft,children:"\xab"})},n):t===de?Object(u.jsx)("li",{className:le.a.pageItem,children:Object(u.jsx)("span",{"aria-hidden":"true",onClick:e.handleMoveRight,children:"\xbb"})},n):Object(u.jsx)("li",{className:"".concat(le.a.pageItem," ").concat(e.props.currentPage===t&&le.a.selectedPage),onClick:function(){return e.handleClick(t)},children:t},n)}))})]}):null}}]),n}(s.a.Component),ge={totalRecords:0,pageLimit:4,pageNeighbours:1,currentPage:5},be=Object(k.b)((function(e){return{pageLimit:e.pagination.pageLimit,totalRecords:e.pagination.totalRecords,pageNeighbours:e.pagination.pageNeighbours,currentPage:e.friendsPage.currentPage}}),(function(e){return{setCurrentPage:function(t){e(function(e){return{type:"SET-CURRENT-PAGE",page:e}}(t))},setTotalCount:function(t){e(function(e){return{type:"SET-TOTAL-COUNT",totalCount:e}}(t))},setFriends:function(t){e(function(e){return{type:"SET-FRIENDS",friends:e}}(t))}}}))(pe),fe=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(be,{}),Object(u.jsx)(re,{})]})},he={PROFILE:"/profile",DIALOGS:"/dialogs",NEWS:"/news",MUSIC:"/music",SETTINGS:"/settings",FIND_FRIENDS:"/findFriends"};var Oe=function(e){return Object(u.jsx)(g.a,{children:Object(u.jsxs)("div",{className:"app-wrapper",children:[Object(u.jsx)(d,{}),Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(M.d,{children:[Object(u.jsx)(M.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(M.a,{to:he.PROFILE})}}),Object(u.jsx)(M.b,{path:he.PROFILE,render:function(){return Object(u.jsx)(y,{})}}),Object(u.jsx)(M.b,{path:he.DIALOGS,render:function(){return Object(u.jsx)(Q,{})}}),Object(u.jsx)(M.b,{path:he.NEWS,render:function(){return Object(u.jsx)(L,{})}}),Object(u.jsx)(M.b,{path:he.MUSIC,render:function(){return Object(u.jsx)(R,{})}}),Object(u.jsx)(M.b,{path:he.FIND_FRIENDS,render:function(){return Object(u.jsx)(fe,{})}}),Object(u.jsx)(M.b,{path:he.SETTINGS,render:function(){return Object(u.jsx)(D,{})}})]})})]})})},me=n(34),ve={},xe=Object(me.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var n={id:(new Date).getTime(),message:t.postText,likeCount:0};return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(x.a)(e.posts),[n]),newPostText:""});case N:return Object(_.a)(Object(_.a)({},e),{},{newPostText:t.newText});default:return e}},dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var n={id:(new Date).getTime(),message:t.messageText};return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(x.a)(e.messages),[n]),newTextMessage:""});case U:return Object(_.a)(Object(_.a)({},e),{},{newTextMessage:t.newMessage});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;return e},friendsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(_.a)(Object(_.a)({},e),{},{friends:e.friends.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(_.a)(Object(_.a)({},e),{},{friends:e.friends.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});case"SET-FRIENDS":return Object(_.a)(Object(_.a)({},e),{},{friends:t.friends});case"SET-CURRENT-PAGE":return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.page});case"SET-TOTAL-COUNT":return Object(_.a)(Object(_.a)({},e),{},{totalCount:t.totalCount});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CURRENT-PAGE":return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.page});case"SET-TOTAL-COUNT":return Object(_.a)(Object(_.a)({},e),{},{totalRecords:t.totalCount});default:return e}}}),_e=Object(me.b)(xe);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(k.a,{store:_e,children:Object(u.jsx)(Oe,{})})}),document.getElementById("root")),c()}},[[80,1,2]]]);
//# sourceMappingURL=main.57ddd91e.chunk.js.map